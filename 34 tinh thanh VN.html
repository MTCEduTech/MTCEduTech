<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
<script src="auth.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th√¥ng tin t·ªânh th√†nh Vi·ªát Nam</title>
    <style>
        body {
    font-family: 'Segoe UI', 'Inter', sans-serif;
    text-align: center;
    background: linear-gradient(to bottom, #e0f7fa, #ffffff);
    margin: 0;
    padding: 20px;
    box-sizing: border-box;
}

h1 {
    color: #005b96;
    margin-bottom: 10px;
    font-size: 2em;
}

p {
    color: #333;
    font-size: 1.1em;
}

.container {
    max-width: 1200px;
    background-color: #fff;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    margin: 20px auto;
}


.controls-panel label {
    font-weight: 600;
    color: #333;
}


.table-split-container {
    display: flex;
    flex-wrap: wrap;
    gap: 25px;
    justify-content: center;
    margin-top: 20px;
}

.table-wrapper {
    flex: 1 1 300px;
    overflow-x: auto;
}

table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95em;
}

th, td {
    padding: 12px 10px;
    text-align: left;
    border-bottom: 1px solid #ddd;
}

th {
    background-color: #e3f2fd;
    color: #0d47a1;
}

tbody tr:nth-child(even) {
    background-color: #f9f9f9;
}

tbody tr:hover {
    background-color: #e0f0ff;
    cursor: pointer;
}

tbody tr.highlighted {
    background-color: #b3e5fc;
    font-weight: bold;
}

.info-display-area {
    flex: 1 1 400px;
  border: 3px solid #007BFF; /* Vi·ªÅn d√†y, m√†u xanh d∆∞∆°ng ƒë·∫≠m */
  border-radius: 12px;       /* Bo g√≥c nh·∫π cho th·∫©m m·ªπ */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* ƒê·ªï b√≥ng m·ªÅm */
  padding: 20px;
  background-color: #ffffff; /* N·ªÅn tr·∫Øng r√µ r√†ng */
  transition: all 0.3s ease; /* Hi·ªáu ·ª©ng nh·∫π khi thay ƒë·ªïi */
    text-align: left;
}
.info-display-area:hover {
  border-color: #28a745;
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
}

.info-display-area h2 {
    margin-top: 0;
    font-size: 1.5em;
    color: #00796b;
    border-bottom: 1px solid #ccc;
    padding-bottom: 8px;
}

.info-display-content p {
    margin: 10px 0;
    color: #333;
    line-height: 1.5;
}

.info-display-content strong {
    display: inline-block;
    min-width: 180px;
    font-weight: 600;
    color: #1a2a3a;
}
.header-title {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-size: 2em;
    color: #005b96;
}

.flag-icon {
    width: 180px;
    height: auto;
}
.top-header {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    gap: 40px;
    flex-wrap: wrap;
    margin-bottom: 15px;
}
.top-controls {
  display: flex;
  flex-direction: row;
  gap: 12px;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 5px; /* thay v√¨ qu√° nhi·ªÅu kho·∫£ng c√°ch */
}

.top-controls label {
    font-weight: 600;
    margin-bottom: 5px;
    color: #333;
}

.top-controls select {
    padding: 8px 14px;
    border: 1px solid #aaa;
    border-radius: 8px;
    font-size: 1em;
    background-color: #fefefe;
    cursor: pointer;
    width: 200px;
}

.top-header {
width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px; /* thay v√¨ margin-bottom l·ªõn */
  margin-bottom: 10px;
  border-bottom: 1px solid #ddd;
  padding-bottom: 10px;
}
.top-header-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 20px;
  flex-wrap: wrap;
}
.main-heading {
  color: #b71c1c; /* ƒë·ªè ƒë·∫≠m */
  font-size: 1.8em;
  font-weight: bold;
  text-transform: uppercase;
}
.header-row {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
  margin-bottom: 0; /* lo·∫°i b·ªè kho·∫£ng c√°ch d∆∞·ªõi */
}

.controls-row {
  margin-top: 0;
}
.table-wrapper.left, .table-wrapper.right {
    max-height: 300px;
    overflow-y: auto;
overflow-x: hidden;
}


.title-and-controls {
  display: flex;
  flex-direction: column;
  gap: 10px;
  flex: 1;
  min-width: 320px;
}

#openMapBtn {
  margin-top: 8px;
  padding: 8px 14px;
  border: none;
  background-color: #007BFF;
  color: white;
  font-weight: bold;
  border-radius: 6px;
  cursor: pointer;
}

#openMapBtn:hover {
  background-color: #0056b3;
}

/* === POPUP === */
.map-popup {
  display: none;
  position: fixed;
  top: 0;
  right: 0;
  width: 30%;
  height: 85%;
  background-color: no;
  border-left: no;
  box-shadow: no;
  z-index: 9999;
  padding: 10px;
  box-sizing: border-box;
  overflow: hidden;
}

.map-popup-content {
  position: relative;
  height: 100%;
  width: 100%;
}

.map-close-btn {
  position: absolute;
  top: 8px;
  right: 14px;
  font-size: 28px;
  cursor: pointer;
  color: #333;
  z-index: 10000;
}

.map-scroll-container {
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
}

#zoomableMapImage {
  transform-origin: top left;
  cursor: grab;
  user-select: none;
  height: auto;
  max-width: none;
  position: absolute;
  top: 0;
  left: 0;
}
.styled-button {
  margin-top: 8px;
  padding: 8px 14px;
  border: none;
  background-color: #007BFF;
  color: white;
  font-weight: bold;
  border-radius: 6px;
  cursor: pointer;
}

.styled-button:hover {
  background-color: #0056b3;
}
    </style>
<link rel="stylesheet" href="menu.css">
</head>
<body>
       <div class="top-header">
  <div class="top-header-row">
    <div class="title-and-controls">
      <div class="header-row">
        <img alt="C·ªù Vi·ªát Nam" class="flag-icon" src="vn.png"/>
        <span class="main-heading">TH√îNG TIN T·ªàNH TH√ÄNH VI·ªÜT NAM T·ª™ 01/7/2025</span>
      </div>

      <div class="controls-row">
        <div class="top-controls">
          <div class="control-group">
            <label for="oldProvinceSelect">T√¨m t·ªânh c≈©:</label>
            <select id="oldProvinceSelect">
              <option value="">-- Ch·ªçn t·ªânh --</option>
            </select>
          </div>
          <div class="control-group">
            <label for="sortOrderSelect">S·∫Øp x·∫øp v√† L·ªçc:</label>
            <select id="sortOrderSelect">
              <option value="default">M·∫∑c ƒë·ªãnh (A-Z)</option>
              <option value="population">Theo d√¢n s·ªë (gi·∫£m d·∫ßn)</option>
              <option value="area">Theo di·ªán t√≠ch (gi·∫£m d·∫ßn)</option>
              <option value="nonMerged">Kh√¥ng s√°p nh·∫≠p</option>
              <option value="cities">Th√†nh ph·ªë</option>
              <option value="reset">ƒê·∫∑t l·∫°i</option>
            </select>
<button id="openMapBtn" class="styled-button">üó∫Ô∏è Xem b·∫£n ƒë·ªì</button>
<button id="downloadMapBtn" class="styled-button">üíæ T·∫£i b·∫£n ƒë·ªì size l·ªõn .pdf</button>


          </div>
        </div>
      </div>
    </div>

  </div>
</div>


    <div class="container">
  <div class="table-split-container">

    <!-- B·∫¢NG TR√ÅI -->
    <div class="table-wrapper left">
      <table>
        <thead>
          <tr>
            <th>STT</th>
            <th>T√™n t·ªânh</th>
          </tr>
        </thead>
        <tbody id="provinceTableBodyLeft">
          <!-- Province data will be populated here -->
        </tbody>
      </table>
    </div>

    <!-- V√ôNG TH√îNG TIN CHI TI·∫æT -->
    <div class="info-display-area">
      <h2>TH√îNG TIN</h2>
      <div id="info-display-content">
        <p>Ch·ªçn m·ªôt t·ªânh t·ª´ danh s√°ch ho·∫∑c t·ª´ dropdown "T√¨m t·ªânh c≈©" ƒë·ªÉ xem th√¥ng tin chi ti·∫øt t·∫°i ƒë√¢y.</p>
      </div>
    </div>

    <!-- B·∫¢NG PH·∫¢I -->
    <div class="table-wrapper right">
      <table>
        <thead>
          <tr>
            <th>STT</th>
            <th>T√™n t·ªânh</th>
          </tr>
        </thead>
        <tbody id="provinceTableBodyRight">
          <!-- Province data will be populated here -->
        </tbody>
      </table>
    </div>
  </div>
</div>
Tr√≠ch d·ªØ li·ªáu t·ª´: https://laodong.vn/thoi-su/ten-34-tinh-thanh-cua-viet-nam-tu-1262025-1522395.ldo

    <script>
        const oldProvinceSelect = document.getElementById('oldProvinceSelect');
        const sortOrderSelect = document.getElementById('sortOrderSelect');
        const provinceTableBodyLeft = document.getElementById('provinceTableBodyLeft');
        const provinceTableBodyRight = document.getElementById('provinceTableBodyRight');
        const infoDisplayArea = document.getElementById('info-display-area');
        const infoDisplayContent = document.getElementById('info-display-content');

        let provinceData = {};
        let provinceNameMap = {};
        let currentFilteredProvinces = [];

        function parseNumber(str) {
            if (typeof str !== 'string') return parseFloat(str);
            return parseFloat(str.replace(/\./g, '').replace(/,/g, '.'));
        }

        const finalProvincesList = [ 
  { name: 'Tuy√™n Quang', merger: 'H·ª£p nh·∫•t t·ªânh Tuy√™n Quang v√† t·ªânh H√† Giang', capital: 'Tuy√™n Quang', area: '13.795,50', population: '1.865.270', type: 'T·ªânh' },
  { name: 'L√†o Cai', merger: 'H·ª£p nh·∫•t t·ªânh L√†o Cai v√† t·ªânh Y√™n B√°i', capital: 'L√†o Cai', area: '13.256,92', population: '1.778.785', type: 'T·ªânh' },
  { name: 'Th√°i Nguy√™n', merger: 'H·ª£p nh·∫•t t·ªânh Th√°i Nguy√™n v√† t·ªânh B·∫Øc K·∫°n', capital: 'Th√°i Nguy√™n', area: '8.375,21', population: '1.799.489', type: 'T·ªânh' },
  { name: 'Ph√∫ Th·ªç', merger: 'H·ª£p nh·∫•t t·ªânh H√≤a B√¨nh, t·ªânh Vƒ©nh Ph√∫c v√† t·ªânh Ph√∫ Th·ªç', capital: 'Ph√∫ Th·ªç', area: '9.361,38', population: '4.022.638', type: 'T·ªânh' },
  { name: 'B·∫Øc Ninh', merger: 'H·ª£p nh·∫•t t·ªânh B·∫Øc Ninh v√† t·ªânh B·∫Øc Giang', capital: 'B·∫Øc Ninh', area: '4.718,60', population: '3.619.433', type: 'T·ªânh' },
  { name: 'H∆∞ng Y√™n', merger: 'H·ª£p nh·∫•t t·ªânh H∆∞ng Y√™n v√† t·ªânh Th√°i B√¨nh', capital: 'H∆∞ng Y√™n', area: '2.514,81', population: '3.567.943', type: 'T·ªânh' },
  { name: 'H·∫£i Ph√≤ng', merger: 'H·ª£p nh·∫•t th√†nh ph·ªë H·∫£i Ph√≤ng v√† t·ªânh H·∫£i D∆∞∆°ng', capital: 'H·∫£i Ph√≤ng', area: '3.194,72', population: '4.664.124', type: 'Th√†nh ph·ªë' },
  { name: 'Ninh B√¨nh', merger: 'H·ª£p nh·∫•t t·ªânh H√† Nam, t·ªânh Nam ƒê·ªãnh v√† t·ªânh Ninh B√¨nh', capital: 'Ninh B√¨nh', area: '3.942,62', population: '4.412.264', type: 'T·ªânh' },
  { name: 'Qu·∫£ng Tr·ªã', merger: 'H·ª£p nh·∫•t t·ªânh Qu·∫£ng B√¨nh v√† t·ªânh Qu·∫£ng Tr·ªã', capital: 'Qu·∫£ng Tr·ªã', area: '12.700,00', population: '1.870.845', type: 'T·ªânh' },
  { name: 'ƒê√† N·∫µng', merger: 'H·ª£p nh·∫•t t·ªânh Qu·∫£ng Nam v√† th√†nh ph·ªë ƒê√† N·∫µng', capital: 'ƒê√† N·∫µng', area: '11.859,59', population: '3.065.628', type: 'Th√†nh ph·ªë' },
  { name: 'Qu·∫£ng Ng√£i', merger: 'H·ª£p nh·∫•t t·ªânh Kon Tum v√† t·ªânh Qu·∫£ng Ng√£i', capital: 'Qu·∫£ng Ng√£i', area: '14.832,55', population: '2.161.755', type: 'T·ªânh' },
  { name: 'Gia Lai', merger: 'H·ª£p nh·∫•t t·ªânh Gia Lai v√† t·ªânh B√¨nh ƒê·ªãnh', capital: 'Gia Lai', area: '21.576,53', population: '3.583.693', type: 'T·ªânh' },
  { name: 'Kh√°nh H√≤a', merger: 'H·ª£p nh·∫•t t·ªânh Ninh Thu·∫≠n v√† t·ªânh Kh√°nh H√≤a', capital: 'Kh√°nh H√≤a', area: '8.555,86', population: '2.243.554', type: 'T·ªânh' },
  { name: 'L√¢m ƒê·ªìng', merger: 'H·ª£p nh·∫•t t·ªânh ƒê·∫Øk N√¥ng, t·ªânh B√¨nh Thu·∫≠n v√† t·ªânh L√¢m ƒê·ªìng', capital: 'L√¢m ƒê·ªìng', area: '24.233,07', population: '3.872.999', type: 'T·ªânh' },
  { name: 'ƒê·∫Øk L·∫Øk', merger: 'H·ª£p nh·∫•t t·ªânh Ph√∫ Y√™n v√† t·ªânh ƒê·∫Øk L·∫Øk', capital: 'ƒê·∫Øk L·∫Øk', area: '18.096,40', population: '3.346.853', type: 'T·ªânh' },
  { name: 'TP. H·ªì Ch√≠ Minh', merger: 'H·ª£p nh·∫•t t·ªânh B√† R·ªãa - V≈©ng T√†u, t·ªânh B√¨nh D∆∞∆°ng v√† Th√†nh ph·ªë H·ªì Ch√≠ Minh', capital: 'TP. H·ªì Ch√≠ Minh', area: '6.772,59', population: '14.002.598', type: 'Th√†nh ph·ªë' },
  { name: 'ƒê·ªìng Nai', merger: 'H·ª£p nh·∫•t t·ªânh B√¨nh Ph∆∞·ªõc v√† t·ªânh ƒê·ªìng Nai', capital: 'ƒê·ªìng Nai', area: '12.737,18', population: '4.491.408', type: 'T·ªânh' },
  { name: 'T√¢y Ninh', merger: 'H·ª£p nh·∫•t t·ªânh T√¢y Ninh v√† t·ªânh Long An', capital: 'T√¢y Ninh', area: '8.536,44', population: '3.254.170', type: 'T·ªânh' },
  { name: 'C·∫ßn Th∆°', merger: 'H·ª£p nh·∫•t th√†nh ph·ªë C·∫ßn Th∆°, t·ªânh S√≥c TrƒÉng v√† t·ªânh H·∫≠u Giang', capital: 'C·∫ßn Th∆°', area: '6.360,83', population: '4.199.824', type: 'Th√†nh ph·ªë' },
  { name: 'Vƒ©nh Long', merger: 'H·ª£p nh·∫•t t·ªânh B·∫øn Tre, t·ªânh Vƒ©nh Long v√† t·ªânh Tr√† Vinh', capital: 'Vƒ©nh Long', area: '6.296,20', population: '4.257.581', type: 'T·ªânh' },
  { name: 'ƒê·ªìng Th√°p', merger: 'H·ª£p nh·∫•t t·ªânh Ti·ªÅn Giang v√† t·ªânh ƒê·ªìng Th√°p', capital: 'ƒê·ªìng Th√°p', area: '5.938,64', population: '4.370.046', type: 'T·ªânh' },
  { name: 'C√† Mau', merger: 'H·ª£p nh·∫•t t·ªânh B·∫°c Li√™u v√† t·ªânh C√† Mau', capital: 'C√† Mau', area: '7.942,39', population: '2.606.672', type: 'T·ªânh' },
  { name: 'An Giang', merger: 'H·ª£p nh·∫•t t·ªânh Ki√™n Giang v√† t·ªânh An Giang', capital: 'An Giang', area: '9.888,91', population: '4.952.238', type: 'T·ªânh' },
  { name: 'H√† N·ªôi', merger: 'Kh√¥ng s√°p nh·∫≠p', capital: 'H√† N·ªôi', area: '3.359,82', population: '8.718.000', type: 'Th√†nh ph·ªë' },
  { name: 'Th·ª´a Thi√™n Hu·∫ø', merger: 'Kh√¥ng s√°p nh·∫≠p', capital: 'Hu·∫ø', area: '4.947,10', population: '1.236.393', type: 'Th√†nh ph·ªë' },
  { name: 'Lai Ch√¢u', merger: 'Kh√¥ng s√°p nh·∫≠p', capital: 'Lai Ch√¢u', area: '9.068,70', population: '494.626', type: 'T·ªânh' },
  { name: 'ƒêi·ªán Bi√™n', merger: 'Kh√¥ng s√°p nh·∫≠p', capital: 'ƒêi·ªán Bi√™n Ph·ªß', area: '9.539,90', population: '653.422', type: 'T·ªânh' },
  { name: 'S∆°n La', merger: 'Kh√¥ng s√°p nh·∫≠p', capital: 'S∆°n La', area: '14.109,80', population: '1.327.430', type: 'T·ªânh' },
  { name: 'L·∫°ng S∆°n', merger: 'Kh√¥ng s√°p nh·∫≠p', capital: 'L·∫°ng S∆°n', area: '8.310,20', population: '813.978', type: 'T·ªânh' },
  { name: 'Qu·∫£ng Ninh', merger: 'Kh√¥ng s√°p nh·∫≠p', capital: 'H·∫° Long', area: '6.207,90', population: '1.429.841', type: 'T·ªânh' },
  { name: 'Thanh H√≥a', merger: 'Kh√¥ng s√°p nh·∫≠p', capital: 'Thanh H√≥a', area: '11.114,70', population: '3.760.650', type: 'T·ªânh' },
  { name: 'Ngh·ªá An', merger: 'Kh√¥ng s√°p nh·∫≠p', capital: 'Vinh', area: '16.493,70', population: '3.470.988', type: 'T·ªânh' },
  { name: 'H√† Tƒ©nh', merger: 'Kh√¥ng s√°p nh·∫≠p', capital: 'H√† Tƒ©nh', area: '5.994,40', population: '1.622.901', type: 'T·ªânh' },
  { name: 'Cao B·∫±ng', merger: 'Kh√¥ng s√°p nh·∫≠p', capital: 'Cao B·∫±ng', area: '6.700,40', population: '555.809', type: 'T·ªânh' },
];


        const allOldProvincesMapping = [
            { oldName: 'An Giang', newName: 'An Giang' },
            { oldName: 'B√† R·ªãa - V≈©ng T√†u', newName: 'TP. H·ªì Ch√≠ Minh' },
            { oldName: 'B·∫°c Li√™u', newName: 'C√† Mau' },
            { oldName: 'B·∫Øc K·∫°n', newName: 'Th√°i Nguy√™n' },
            { oldName: 'B·∫Øc Giang', newName: 'B·∫Øc Ninh' },
            { oldName: 'B·∫Øc Ninh', newName: 'B·∫Øc Ninh' },
            { oldName: 'B·∫øn Tre', newName: 'Vƒ©nh Long' },
            { oldName: 'B√¨nh D∆∞∆°ng', newName: 'TP. H·ªì Ch√≠ Minh' },
            { oldName: 'B√¨nh ƒê·ªãnh', newName: 'Gia Lai' },
            { oldName: 'B√¨nh Ph∆∞·ªõc', newName: 'ƒê·ªìng Nai' },
            { oldName: 'B√¨nh Thu·∫≠n', newName: 'L√¢m ƒê·ªìng' },
            { oldName: 'C√† Mau', newName: 'C√† Mau' },
            { oldName: 'Cao B·∫±ng', newName: 'Cao B·∫±ng' },
            { oldName: 'C·∫ßn Th∆°', newName: 'C·∫ßn Th∆°' },
            { oldName: 'ƒê√† N·∫µng', newName: 'ƒê√† N·∫µng' },
            { oldName: 'ƒê·∫Øk L·∫Øk', newName: 'ƒê·∫Øk L·∫Øk' },
            { oldName: 'ƒê·∫Øk N√¥ng', newName: 'L√¢m ƒê·ªìng' },
            { oldName: 'ƒêi·ªán Bi√™n', newName: 'ƒêi·ªán Bi√™n' },
            { oldName: 'ƒê·ªìng Nai', newName: 'ƒê·ªìng Nai' },
            { oldName: 'ƒê·ªìng Th√°p', newName: 'ƒê·ªìng Th√°p' },
            { oldName: 'Gia Lai', newName: 'Gia Lai' },
            { oldName: 'H√† Giang', newName: 'Tuy√™n Quang' },
            { oldName: 'H√† Nam', newName: 'Ninh B√¨nh' },
            { oldName: 'H√† N·ªôi', newName: 'H√† N·ªôi' },
            { oldName: 'H√† Tƒ©nh', newName: 'H√† Tƒ©nh' },
            { oldName: 'H·∫£i D∆∞∆°ng', newName: 'H·∫£i Ph√≤ng' },
            { oldName: 'H·∫£i Ph√≤ng', newName: 'H·∫£i Ph√≤ng' },
            { oldName: 'H·∫≠u Giang', newName: 'C·∫ßn Th∆°' },
            { oldName: 'H√≤a B√¨nh', newName: 'Ph√∫ Th·ªç' },
            { oldName: 'TP. H·ªì Ch√≠ Minh', newName: 'TP. H·ªì Ch√≠ Minh' },
            { oldName: 'H∆∞ng Y√™n', newName: 'H∆∞ng Y√™n' },
            { oldName: 'Kh√°nh H√≤a', newName: 'Kh√°nh H√≤a' },
            { oldName: 'Ki√™n Giang', newName: 'An Giang' },
            { oldName: 'Kon Tum', newName: 'Qu·∫£ng Ng√£i' },
            { oldName: 'Lai Ch√¢u', newName: 'Lai Ch√¢u' },
            { oldName: 'L·∫°ng S∆°n', newName: 'L·∫°ng S∆°n' },
            { oldName: 'L√†o Cai', newName: 'L√†o Cai' },
            { oldName: 'L√¢m ƒê·ªìng', newName: 'L√¢m ƒê·ªìng' },
            { oldName: 'Long An', newName: 'T√¢y Ninh' },
            { oldName: 'Nam ƒê·ªãnh', newName: 'Ninh B√¨nh' },
            { oldName: 'Ngh·ªá An', newName: 'Ngh·ªá An' },
            { oldName: 'Ninh B√¨nh', newName: 'Ninh B√¨nh' },
            { oldName: 'Ninh Thu·∫≠n', newName: 'Kh√°nh H√≤a' },
            { oldName: 'Ph√∫ Th·ªç', newName: 'Ph√∫ Th·ªç' },
            { oldName: 'Ph√∫ Y√™n', newName: 'ƒê·∫Øk L·∫Øk' },
            { oldName: 'Qu·∫£ng B√¨nh', newName: 'Qu·∫£ng Tr·ªã' },
            { oldName: 'Qu·∫£ng Nam', newName: 'ƒê√† N·∫µng' },
            { oldName: 'Qu·∫£ng Ng√£i', newName: 'Qu·∫£ng Ng√£i' },
            { oldName: 'Qu·∫£ng Ninh', newName: 'Qu·∫£ng Ninh' },
            { oldName: 'Qu·∫£ng Tr·ªã', newName: 'Qu·∫£ng Tr·ªã' },
            { oldName: 'S√≥c TrƒÉng', newName: 'C·∫ßn Th∆°' },
            { oldName: 'S∆°n La', newName: 'S∆°n La' },
            { oldName: 'T√¢y Ninh', newName: 'T√¢y Ninh' },
            { oldName: 'Th√°i B√¨nh', newName: 'H∆∞ng Y√™n' },
            { oldName: 'Th√°i Nguy√™n', newName: 'Th√°i Nguy√™n' },
            { oldName: 'Thanh H√≥a', newName: 'Thanh H√≥a' },
            { oldName: 'Th·ª´a Thi√™n Hu·∫ø', newName: 'Th·ª´a Thi√™n Hu·∫ø' },
            { oldName: 'Ti·ªÅn Giang', newName: 'ƒê·ªìng Th√°p' },
            { oldName: 'Tr√† Vinh', newName: 'Vƒ©nh Long' },
            { oldName: 'Tuy√™n Quang', newName: 'Tuy√™n Quang' },
            { oldName: 'Vƒ©nh Long', newName: 'Vƒ©nh Long' },
            { oldName: 'Vƒ©nh Ph√∫c', newName: 'Ph√∫ Th·ªç' },
            { oldName: 'Y√™n B√°i', newName: 'L√†o Cai' }
        ];

        function normalizeString(str) {
            return str.toLowerCase()
                      .normalize("NFD")
                      .replace(/[\u0300-\u036f]/g, "")
                      .replace(/ƒë/g, "d")
                      .replace(/ /g, "")
                      .replace(/-/g, "");
        }

        let originalProvinceOrder = [];
        let provinceCounter = 1;
        finalProvincesList.sort((a, b) => a.name.localeCompare(b.name));
        finalProvincesList.forEach(province => {
            const data = {
                number: provinceCounter,
                ...province,
                parsedPopulation: parseNumber(province.population),
                parsedArea: parseNumber(province.area)
            };
            provinceData[provinceCounter] = data;
            provinceCounter++;
            provinceNameMap[normalizeString(province.name)] = data;
            originalProvinceOrder.push(data);
        });

        currentFilteredProvinces = [...originalProvinceOrder];

        function populateProvinceTable(provincesToDisplay) {
            provinceTableBodyLeft.innerHTML = '';
            provinceTableBodyRight.innerHTML = '';

            const totalProvinces = provincesToDisplay.length;
            // Calculate the number of provinces for the left column to ensure even distribution
            const numLeft = Math.ceil(totalProvinces / 2); 

            provincesToDisplay.forEach((province, index) => {
                const row = document.createElement('tr');
                row.dataset.originalProvinceNumber = province.number; 
                
                const numCell = document.createElement('td');
                numCell.textContent = index + 1; // Display the new sequential number
                
                const nameCell = document.createElement('td');
                nameCell.textContent = province.name;

                row.appendChild(numCell);
                row.appendChild(nameCell);

                row.addEventListener('click', () => {
                    highlightRow(row);
                    displayProvinceInfo(province);
                });

                if (index < numLeft) {
                    provinceTableBodyLeft.appendChild(row);
                } else {
                    provinceTableBodyRight.appendChild(row);
                }
            });
        }

        function populateOldProvinceSelect() {
            allOldProvincesMapping.sort((a, b) => a.oldName.localeCompare(b.oldName));

            allOldProvincesMapping.forEach(mapping => {
                const option = document.createElement('option');
                option.value = mapping.newName;
                option.textContent = mapping.oldName;
                oldProvinceSelect.appendChild(option);
            });
        }

        function displayProvinceInfo(province) {
            const data = province || {
                name: 'Kh√¥ng t√¨m th·∫•y',
                merger: 'Kh√¥ng c√≥ th√¥ng tin',
                capital: 'Kh√¥ng x√°c ƒë·ªãnh',
                area: 'Kh√¥ng x√°c ƒë·ªãnh',
                population: 'Kh√¥ng x√°c ƒë·ªãnh'
            };

            infoDisplayContent.innerHTML = `
                <h3>${data.name}</h3>
                <p><strong>S√°p nh·∫≠p t·ª´:</strong> ${data.merger}</p>
                <p><strong>Trung t√¢m h√†nh ch√≠nh:</strong> ${data.capital}</p>
                <p><strong>Di·ªán t√≠ch:</strong> ${data.area} km¬≤</p>
                <p><strong>D√¢n s·ªë:</strong> ${data.population}</p>
            `;
        }

        function highlightRow(rowToHighlight) {
            const allRowsLeft = provinceTableBodyLeft.querySelectorAll('tr');
            const allRowsRight = provinceTableBodyRight.querySelectorAll('tr');
            allRowsLeft.forEach(row => row.classList.remove('highlighted'));
            allRowsRight.forEach(row => row.classList.remove('highlighted'));

            if (rowToHighlight) {
                rowToHighlight.classList.add('highlighted');
                rowToHighlight.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        function resetSelection() {
            oldProvinceSelect.value = '';
            sortOrderSelect.value = 'default';
            currentFilteredProvinces = [...originalProvinceOrder];
            populateProvinceTable(currentFilteredProvinces);
            infoDisplayContent.innerHTML = '<p>Ch·ªçn m·ªôt t·ªânh t·ª´ danh s√°ch ho·∫∑c t·ª´ dropdown "T√¨m t·ªânh c≈©" ƒë·ªÉ xem th√¥ng tin chi ti·∫øt t·∫°i ƒë√¢y.</p>';
            highlightRow(null);
        }

        function applySortAndFilter() {
            let filteredList = [...originalProvinceOrder];
            const selectedOption = sortOrderSelect.value;

            if (selectedOption === 'nonMerged') {
                filteredList = filteredList.filter(p => p.merger === 'Kh√¥ng s√°p nh·∫≠p');
            } else if (selectedOption === 'cities') {
                filteredList = filteredList.filter(p => p.type === 'Th√†nh ph·ªë');
            } else if (selectedOption === 'reset') {
                resetSelection();
                return;
            }

            if (selectedOption === 'population') {
                filteredList.sort((a, b) => b.parsedPopulation - a.parsedPopulation);
            } else if (selectedOption === 'area') {
                filteredList.sort((a, b) => b.parsedArea - a.parsedArea);
            } else {
                filteredList.sort((a, b) => a.name.localeCompare(b.name));
            }
            
            currentFilteredProvinces = filteredList;
            populateProvinceTable(currentFilteredProvinces);
            highlightRow(null);
            infoDisplayContent.innerHTML = '<p>Ch·ªçn m·ªôt t·ªânh t·ª´ danh s√°ch ho·∫∑c t·ª´ dropdown "T√¨m t·ªânh c≈©" ƒë·ªÉ xem th√¥ng tin chi ti·∫øt t·∫°i ƒë√¢y.</p>';
        }

        oldProvinceSelect.addEventListener('change', () => {
            const selectedNewProvinceName = oldProvinceSelect.value;
            if (selectedNewProvinceName) {
                const newProvinceInfo = provinceNameMap[normalizeString(selectedNewProvinceName)];
                if (newProvinceInfo) {
                    resetSelection(); 
                    const rowAfterReset = document.querySelector(`tr[data-original-province-number="${newProvinceInfo.number}"]`);
                    highlightRow(rowAfterReset);
                    displayProvinceInfo(newProvinceInfo);
                } else {
                    alert(`Kh√¥ng t√¨m th·∫•y th√¥ng tin cho t·ªânh m·ªõi: ${selectedNewProvinceName}.`);
                    resetSelection();
                }
            } else {
                resetSelection();
            }
        });

        sortOrderSelect.addEventListener('change', applySortAndFilter);

        populateProvinceTable(currentFilteredProvinces);
        populateOldProvinceSelect();
    </script>

<div id="mapPopup" class="map-popup">
  <div class="map-popup-content">
    <span id="closeMapBtn" class="map-close-btn">&times;</span>
    <div class="map-scroll-container">
      <img id="zoomableMapImage" src="34_vn.png" alt="B·∫£n ƒë·ªì Vi·ªát Nam" />
    </div>
  </div>
</div>
<script>
  const openMapBtn = document.getElementById("openMapBtn");
  const closeMapBtn = document.getElementById("closeMapBtn");
  const mapPopup = document.getElementById("mapPopup");
  const mapImage = document.getElementById("zoomableMapImage");

  let scale = 1;
  let translate = { x: 0, y: 0 };
  let isDragging = false;
  let start = { x: 0, y: 0 };

  openMapBtn.addEventListener("click", () => {
  mapPopup.style.display = "block";

  const popupWidth = mapPopup.clientWidth;
  const popupHeight = mapPopup.clientHeight;

  const img = new Image();
  img.src = mapImage.src;

  img.onload = function () {
    const imageWidth = img.width;
    const imageHeight = img.height;

    // T√≠nh t·ªâ l·ªá ƒë·ªÉ ·∫£nh v·ª´a khung popup
    const scaleX = popupWidth / imageWidth;
    const scaleY = popupHeight / imageHeight;

    // Ch·ªçn scale nh·ªè h∆°n ƒë·ªÉ v·ª´a c·∫£ chi·ªÅu ngang l·∫´n d·ªçc
    scale = Math.min(scaleX, scaleY);

    translate = { x: 0, y: 0 };
    updateTransform();
  };
});


  closeMapBtn.addEventListener("click", () => {
    mapPopup.style.display = "none";
  });

  function updateTransform() {
    mapImage.style.transform = `translate(${translate.x}px, ${translate.y}px) scale(${scale})`;
  }

  // Zoom b·∫±ng chu·ªôt
  mapPopup.addEventListener("wheel", (e) => {
    e.preventDefault();
    const scaleAmount = 0.1;
    scale += e.deltaY < 0 ? scaleAmount : -scaleAmount;
    scale = Math.max(0.5, Math.min(5, scale));
    updateTransform();
  });

  // K√©o ·∫£nh
  mapImage.addEventListener("mousedown", (e) => {
    isDragging = true;
    mapImage.style.cursor = "grabbing";
    start.x = e.clientX - translate.x;
    start.y = e.clientY - translate.y;
  });

  window.addEventListener("mousemove", (e) => {
    if (!isDragging) return;
    translate.x = e.clientX - start.x;
    translate.y = e.clientY - start.y;
    updateTransform();
  });

  window.addEventListener("mouseup", () => {
    isDragging = false;
    mapImage.style.cursor = "grab";
  });
</script>

<script>
  document.getElementById("downloadMapBtn").addEventListener("click", function () {
    const link = document.createElement("a");
    link.href = "bandoVN.pdf";
    link.download = "bandoVN.pdf";
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  });
</script>

<!-- N√∫t to√†n m√†n h√¨nh c·ªë ƒë·ªãnh -->
<div style="
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 9999;
  display: flex;
  flex-direction: row;
  gap: 10px;
">
  <button onclick="openFullscreen()" style="
    padding: 10px 16px;
    font-size: 14px;
    background: #00BFFF;
    border: none;
    border-radius: 6px;
    color: white;
    cursor: pointer;
  ">üîç Xem Full m√†n h√¨nh</button>

  <button onclick="exitFullscreen()" style="
    padding: 10px 16px;
    font-size: 14px;
    background: #FF6347;
    border: none;
    border-radius: 6px;
    color: white;
    cursor: pointer;
  ">‚ùå Tho√°t Full m√†n h√¨nh</button>
</div>
<script>
  function openFullscreen() {
    const elem = document.documentElement;
    if (elem.requestFullscreen) {
      elem.requestFullscreen();
    } else if (elem.webkitRequestFullscreen) { /* Safari */
      elem.webkitRequestFullscreen();
    } else if (elem.msRequestFullscreen) { /* IE11 */
      elem.msRequestFullscreen();
    }
  }

  function exitFullscreen() {
    if (document.exitFullscreen) {
      document.exitFullscreen();
    } else if (document.webkitExitFullscreen) { /* Safari */
      document.webkitExitFullscreen();
    } else if (document.msExitFullscreen) { /* IE11 */
      document.msExitFullscreen();
    }
  }
</script>

<div style="
  position: fixed;
  bottom: 10px;
  right: 20px;
  z-index: 1001;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: flex-end;
">
    <button onclick="window.location.href='index.html'" style="
    background-color: red;
    color: white;
    font-weight: bold;
    border: none;
    padding: 10px 15px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
    width: 220px;
  ">
    üè† V·ªÄ TRANG CH·ª¶
  </button>
</div>

<!-- N√∫t c·ªë ƒë·ªãnh c√≥ th·ªÉ k√©o -->
<button class="menu-toggle draggable"><img src="TC.png" alt="Menu" class="menu-icon"></button>
<!-- Overlay -->
<div id="overlay" class="overlay"></div>
<!-- Menu -->
<div id="sideMenu" class="side-menu">
<a href="https://mtcedutech.github.io/MTCEduTech/index.html">üè† Trang ch·ªß</a>
  <a href="https://mtcedutech.github.io/MTCEduTech/vong_quay_so.html">üéØ V√≤ng quay s·ªë</a>
  <a href="https://mtcedutech.github.io/MTCEduTech/vong_quay_ten.html">üë• V√≤ng quay t√™n</a>
  <a href="https://mtcedutech.github.io/MTCEduTech/Ai_la_trieu_phu.html">üí∞ Ai l√† tri·ªáu ph√∫</a>
  <a href="https://mtcedutech.github.io/MTCEduTech/O_Chu_bi_mat.html">üß© T√¨m √î ch·ªØ b√≠ m·∫≠t</a>
  <a href="https://mtcedutech.github.io/MTCEduTech/O_Chu_tron_tim.html">üîç Tinh m·∫Øt t√¨m t·ª´</a>
  <a href="https://mtcedutech.github.io/MTCEduTech/doan_tu.html">üî§ Game suy ƒëo√°n t·ª´</a>
  <a href="https://mtcedutech.github.io/MTCEduTech/soan_cau_hoi.html">üìù So·∫°n ƒë·ªÅ TN Tick ch·ªçn + ch·∫•m ƒëi·ªÉm</a> 
  <a href="https://mtcedutech.github.io/MTCEduTech/sukienVN.html">üìñ Theo d√≤ng s·ª± ki·ªán - l·ªãch s·ª≠ VN</a> 
  <a href="https://mtcedutech.github.io/MTCEduTech/fx-570VN%20Plus.html">üìü Gi·∫£ l·∫≠p Fx-570 + B·∫£ng tu·∫ßn ho√†n NTHH</a>
  <a href="https://mtcedutech.github.io/MTCEduTech/Caro.html">üéÆ Game Caro + Music</a>
  <a href="#" onclick="toggleMenu()">‚ùå ƒê√≥ng Menu</a>

</div>

<script src="menu.js"></script>
   
<script src="chao_name.js"></script>
</body>
</html>
