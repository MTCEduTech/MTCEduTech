<!-- Báº®T Äáº¦U -->
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
<script src="auth.js"></script>
  <title>TrÃ² chÆ¡i máº£nh ghÃ©p chá»¯ cÃ¡i</title>
  <style>
   body {
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 10px;

    background-image: url('Nen2.jpg');
    background-size: cover;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }
    h1 {
      color: yellow;
      margin-bottom: 20px;
      font-family: "Times New Roman", Times, serif;
    }
    #inputArea, #controlArea {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
color: #FFD700;
font-weight: bold;
    }
    #slots, #letters {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      min-height: 60px;
      margin-bottom: 20px;
    }
    .slot, .letter {
      width: 50px;
      height: 50px;
      font-size: 24px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px dashed #999;
      background-color: #f0f0f0;
      cursor: pointer;
      user-select: none;
    }
    .letter {
      border: 2px solid #009688;
      background-color: #E0F2F1;
    }
    .correct {
      border-color: green;
      background-color: #C8E6C9;
    }
    .incorrect {
      border-color: red;
      background-color: #FFCDD2;
    }
    button {
      margin: 5px 5px;
      padding: 6px 15px;
      font-size: 16px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
    }
    button:hover {
      background-color: #388E3C;
    }
    select {
      font-size: 16px;
      margin-left: 10px;
    }
    #timer {
      font-size: 18px;
      margin-top: 10px;
      color: red;
      font-weight: bold;
      font-family: "Times New Roman", Times, serif;
    }
    #infoArea {
      font-size: 20px;
      margin-top: 10px;
      font-family: "Times New Roman", Times, serif;
    }
    #infoArea em {
      color: blue;
      font-weight: bold;
      font-style: normal;
    }

.footer-fixed {
  position: fixed;
  bottom: 0;
  left: 50%; /* Báº¯t Ä‘áº§u tá»« giá»¯a */
  transform: translateX(-50%); /* Lá»‡ch pháº£i nháº¹ tá»« giá»¯a */
  background-color: transparent; /* Bá» ná»n */
  color: white;
  font-size: 16px;
  padding: 10px 20px;
  z-index: 9999;
  font-family: 'Times New Roman', serif;
}


  .footer-fixed em strong {
    font-style: italic;
    font-weight: bold;
  }
  .footer-fixed em {
    font-style: italic;
    font-weight: normal;
  }
	  button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.word-button-blink {
  animation: blink 1s infinite;
}

.blink-alert {
  animation: blink 1s infinite;
  font-size: 20px;
  font-weight: bold;
  padding: 10px;
  border-radius: 8px;
  margin-top: 15px;
}

  </style>

<link rel="stylesheet" href="menu.css">
</head>
<body>
  <h1>TRÃ’ CHÆ I Sáº®P Xáº¾P KÃ Tá»° THÃ€NH Tá»ª HOÃ€N CHá»ˆNH</h1>

  <div id="inputArea">
    <input id="answerInput" placeholder="Nháº­p Ä‘Ã¡p Ã¡n tá»« cáº§n tÃ¬m Ä‘Ãºng" size="25" />
    <input id="hintInput" placeholder="Nháº­p gá»£i Ã½ cho tá»«" size="30" />
   
<button onclick="hideInput()">áº¨N KHUNG NHáº¬P</button>
<label for="scoreSelect">Thang Ä‘iá»ƒm/tá»«:</label>
  <select id="scoreSelect" name="scoreSelect">
    <option value="">--Chá»n--</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
  </select> 
  </div>
  <div id="showInputArea" style="display:none;">
    <button onclick="showInput()">HIá»†N Láº I KHUNG NHáº¬P</button>

  </div>

  <div id="controlArea">
    THá»œI GIAN GHÃ‰P CHá»® CHO Má»–I Tá»ª:
    <select id="timeLimit">
  <option value="0">KhÃ´ng giá»›i háº¡n</option>
  <option value="15">15s</option>
  <option value="30">30s</option>
  <option value="45">45s</option>
  <option value="60">60s (1 phÃºt)</option>
  <option value="75">75s</option>
  <option value="90">90s</option>
  <option value="105">105s</option>
  <option value="120">120s (2 phÃºt)</option>
  <option value="135">135s</option>
  <option value="150">150s</option>
  <option value="165">165s</option>
  <option value="180">180s (3 phÃºt)</option>
  <option value="195">195s</option>
  <option value="210">210s</option>
  <option value="225">225s</option>
  <option value="240">240s (4 phÃºt)</option>
  <option value="255">255s</option>
  <option value="270">270s</option>
  <option value="285">285s</option>
  <option value="300">300s (5 phÃºt)</option>
</select>

    <button id="startBtn" onclick="setupGame()">Báº®T Äáº¦U</button>

    <button id="checkBtn" onclick="checkAnswer()" disabled>KIá»‚M TRA</button>

    <button id="showAnswerBtn" onclick="showAnswer()">HIá»†N ÄÃP ÃN</button>

  </div>

  <div id="timer"></div>
  <div id="slots"></div>
  <div id="letters"></div>
  <div id="infoArea"></div>

  <audio id="correctSound" src="correct.mp3"></audio>
  <audio id="wrongSound" src="wrong.mp3"></audio>

  <script>
let isFromFile = false; // Ä‘Ã¡nh dáº¥u cÃ³ Ä‘ang chÆ¡i theo file hay khÃ´ng
let correctWordCount = 0;

    let answer = '';
    let timer = null;
    let timeLeft = 0;
let isTimeOutTriggered = false;

    function hideInput() {
      document.getElementById('inputArea').style.display = 'none';
      document.getElementById('showInputArea').style.display = 'block';
    }

    function showInput() {
      document.getElementById('inputArea').style.display = 'block';
      document.getElementById('showInputArea').style.display = 'none';
    }
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }
  function setupGame(forceManual = false) {
	  // ğŸ”„ XÃ³a thÃ´ng bÃ¡o chá»›p cÅ© náº¿u cÃ³
document.querySelectorAll('.blink-alert').forEach(el => el.remove());
	  isTimeOutTriggered = false; // reset cá» háº¿t giá»
  const rawAnswer = document.getElementById('answerInput').value.toUpperCase().replace(/\s/g, '');

  // Kiá»ƒm tra khi khÃ´ng cÃ³ dá»¯ liá»‡u
  if (!rawAnswer) {
    // isFromFile cáº§n xÃ¡c Ä‘á»‹nh rÃµ rÃ ng lÃ  true/false trÆ°á»›c Ä‘oáº¡n nÃ y
    if (typeof isFromFile !== 'undefined' && isFromFile) {
      return alert('HÃ£y click chá»n má»™t tá»« trong danh sÃ¡ch phÃ­a dÆ°á»›i!');
    } else {
      return alert('HÃ£y táº¡o trÆ°á»›c má»™t tá»« á»Ÿ khung nháº­p, vÃ  áº©n khung nháº­p Ä‘á»ƒ chÆ¡i hoáº·c má»Ÿ file Ä‘á» Ä‘Ã£ cÃ³ nhÃ©!');
    }
  }


  answer = rawAnswer;

  const slots = document.getElementById('slots');
  const letters = document.getElementById('letters');
  const timerDisplay = document.getElementById('timer');
  const infoArea = document.getElementById('infoArea');

  slots.innerHTML = '';
  letters.innerHTML = '';
  timerDisplay.textContent = '';
  clearInterval(timer);

  for (let i = 0; i < answer.length; i++) {
    const slot = document.createElement('div');
    slot.className = 'slot';
    slot.ondrop = dropLetter;
    slot.ondragover = allowDrop;
    slot.onclick = removeLetterFromSlot;
    slots.appendChild(slot);
  }

  const charArray = shuffleArray(Array.from(answer));
  charArray.forEach((char, i) => {
    const div = document.createElement('div');
    div.className = 'letter';
    div.textContent = char;
    div.draggable = true;
    div.id = 'letter-' + i;
    div.ondragstart = dragLetter;
    div.ondrop = dropBackToLetters;
    div.ondragover = allowDrop;
    letters.appendChild(div);
  });

  window.letterPositions = [];
  Array.from(letters.children).forEach((el, index) => {
    window.letterPositions.push({ id: el.id, char: el.textContent, index });
  });

  const limit = parseInt(document.getElementById('timeLimit').value);
  if (limit > 0) {
    timeLeft = limit;
    timerDisplay.textContent = 'Thá»i gian: ' + timeLeft + 's';
    timerDisplay.style.color = 'white';
    timerDisplay.style.fontWeight = 'bold';
    timer = setInterval(() => {
      timeLeft--;
      timerDisplay.textContent = 'Thá»i gian: ' + timeLeft + 's';
      if (timeLeft <= 0) {
        clearInterval(timer);
        timerDisplay.textContent = 'Háº¿t giá»!';
        document.getElementById('showAnswerBtn').disabled = false;
        Array.from(letters.children).forEach(div => {
          div.draggable = false;
          div.ondragstart = null;
          div.style.cursor = 'default';
        });
	      isTimeOutTriggered = true; // Äáº·t cá»
        checkAnswer();
      }
    }, 1000);
  } else {
    document.getElementById('showAnswerBtn').disabled = false;
  }

  infoArea.innerHTML = `
    <div style="
      border: 2px solid #FFD700;
      border-radius: 12px;
      padding: 10px;
      display: inline-block;
      background-color: rgba(255, 255, 255, 0.85);
      color: #000000;
      font-size: 18px;
      text-align: left;
    ">
      <div>ğŸ§© Sá»‘ chá»¯ cÃ¡i cá»§a tá»« lÃ : ğŸ‘‰ <strong>${answer.length}</strong> chá»¯ cÃ¡i</div>
      <div>ğŸ’¡ Gá»£i Ã½: ğŸ‘‰ <em>${document.getElementById('hintInput').value}</em></div>
    </div>`;

document.getElementById('startBtn').disabled = true;
document.getElementById('startBtn').style.opacity = 0.5;
document.getElementById('startBtn').style.cursor = 'not-allowed';

  document.getElementById('showAnswerBtn').disabled = true;
document.getElementById('checkBtn').disabled = false;

}

    function allowDrop(e) {
      e.preventDefault();
    }

    function dragLetter(e) {
      e.dataTransfer.setData('letter', e.target.textContent);
      e.dataTransfer.setData('id', e.target.id);
    }

    function dropLetter(e) {
  e.preventDefault();
  const letter = e.dataTransfer.getData('letter');
  const id = e.dataTransfer.getData('id');

  if (e.target.textContent !== '') return;

  e.target.textContent = letter;
  e.target.className = 'slot';

  const dragged = document.getElementById(id);
  if (dragged) {
    dragged.style.visibility = 'hidden'; // <-- chá»‰ áº©n Ä‘i thay vÃ¬ xÃ³a
    dragged.setAttribute('data-used', 'true'); // Ä‘Ã¡nh dáº¥u lÃ  Ä‘Ã£ dÃ¹ng
  }
}


    function dropBackToLetters(e) {
      e.preventDefault();
    }

    function removeLetterFromSlot(e) {
  const slot = e.currentTarget;
  const char = slot.textContent;
  if (!char) return;

  const lettersDiv = document.getElementById('letters');
  const hidden = Array.from(lettersDiv.children).find(
    el => el.textContent === char && el.getAttribute('data-used') === 'true'
  );

  if (hidden) {
    hidden.style.visibility = 'visible';
    hidden.setAttribute('data-used', 'false');
  } else {
    // Náº¿u khÃ´ng tÃ¬m Ä‘Æ°á»£c pháº§n tá»­ áº©n, táº¡o má»›i (phÃ²ng há»)
    const newDiv = document.createElement('div');
    newDiv.className = 'letter';
    newDiv.textContent = char;
    newDiv.draggable = true;
    newDiv.id = 'letter-' + Date.now();
    newDiv.ondragstart = dragLetter;
    newDiv.ondrop = dropBackToLetters;
    newDiv.ondragover = allowDrop;
    lettersDiv.appendChild(newDiv);
  }

  slot.textContent = '';
  slot.className = 'slot';
}

function checkAnswer() {
if (window.answerChecked) return; // ÄÃ£ kiá»ƒm tra rá»“i thÃ¬ khÃ´ng lÃ m gÃ¬ ná»¯a
  const slots = Array.from(document.getElementById('slots').children);
  const filled = slots.map(slot => slot.textContent).join('');
  const correct = filled === answer;

const info = document.getElementById('infoArea');
if (isTimeOutTriggered) {
  const msg = document.createElement('div');
  msg.className = 'blink-alert';
  msg.style.color = correct ? 'yellow' : 'red';
  msg.innerHTML = correct
    ? 'âœ… Háº¿t giá» nhÆ°ng báº¡n Ä‘Ã£ hoÃ n thÃ nh Ä‘Ãºng â€“ ÄÆ¯á»¢C TÃNH ÄIá»‚M!'
    : 'âŒ Háº¿t giá» vÃ  báº¡n chÆ°a hoÃ n thÃ nh Ä‘Ãºng â€“ KHÃ”NG ÄÆ¯á»¢C TÃNH ÄIá»‚M!';
  info.appendChild(msg);
}


  // PhÃ¡t Ã¢m thanh Ä‘Ãºng hoáº·c sai
  const sound = document.getElementById(correct ? 'correctSound' : 'wrongSound');
  sound.play();

  // ÄÃ¡nh dáº¥u tá»«ng Ã´ Ä‘Ãºng hoáº·c sai
  slots.forEach((slot, i) => {
    slot.className = 'slot ' + (slot.textContent === answer[i] ? 'correct' : 'incorrect');
  });

  // Báº­t láº¡i cÃ¡c nÃºt chÆ°a dÃ¹ng
  const allButtons = document.querySelectorAll('#wordButtons button');
  allButtons.forEach(btn => {
    if (btn.dataset.clicked === "false") {
      btn.disabled = false;
      btn.style.opacity = 1;
      btn.style.backgroundColor = "blue";
      btn.classList.add("word-button-blink");
    }
  });

  // Náº¿u tá»« Ä‘Ãºng, tÄƒng sá»‘ tá»« Ä‘Ãºng
  if (correct) {
    correctWordCount++;
  }
window.answerChecked = true; // ÄÃ¡nh dáº¥u lÃ  Ä‘Ã£ kiá»ƒm tra tá»« nÃ y rá»“i

  // Láº¥y thang Ä‘iá»ƒm Ä‘Æ°á»£c chá»n
  const selectedScore = parseInt(document.getElementById('scoreSelect').value || '0');
  const totalScore = correctWordCount * selectedScore;

  const display = document.getElementById('scoreDisplay');
  if (selectedScore > 0) {
    display.textContent = `ğŸ¯ Tá»« Ä‘Ãºng: ${correctWordCount} â†’ Äiá»ƒm: ${totalScore}`;
  } else {
    display.textContent = 'âš ï¸ ChÆ°a chá»n thang Ä‘iá»ƒm!';
  }

  // ğŸ‘‰ ÄÃ¡nh dáº¥u nÃºt hiá»‡n táº¡i lÃ  Ä‘Ã£ dÃ¹ng
  if (window.currentWordButton) {
    window.currentWordButton.dataset.clicked = "true";
    window.currentWordButton.disabled = true;
    window.currentWordButton.style.backgroundColor = correct ? "green" : "red";
    window.currentWordButton.style.opacity = 1;
    window.currentWordButton.classList.remove("word-button-blink");
  }

  // ğŸ‘‰ Bá» lÆ°u trá»¯ nÃºt hiá»‡n táº¡i
  window.currentWordButton = null;

  // âœ… Reset tráº¡ng thÃ¡i sau khi xong
  isFromFile = false;
  window.isManualPlay = false;

  // Hiá»ƒn thá»‹ hÃ¬nh áº£nh Ä‘Ãºng/sai
  const resultImage = document.getElementById('resultImage');
  if (correct) {
    resultImage.src = 'chinhxac.png';
    resultImage.alt = 'ChÃ­nh xÃ¡c';
  } else {
    resultImage.src = 'sairoi.png';
    resultImage.alt = 'Sai rá»“i';
  }
  resultImage.style.display = 'block';

  // Tá»± áº©n sau 5 giÃ¢y
  setTimeout(() => {
    resultImage.style.display = 'none';
  }, 5000);

document.getElementById('checkBtn').disabled = true;

}

    function showAnswer() {
      const slots = document.getElementById('slots');
      const letters = document.getElementById('letters');
      const timerDisplay = document.getElementById('timer');
      clearInterval(timer);
      timerDisplay.textContent = '';
      slots.innerHTML = '';
      for (let i = 0; i < answer.length; i++) {
        const slot = document.createElement('div');
        slot.className = 'slot correct';
        slot.textContent = answer[i];
        slot.onclick = removeLetterFromSlot;
        slots.appendChild(slot);
      }
      letters.innerHTML = '';
 // âœ… Reset tráº¡ng thÃ¡i sau khi xong
  isFromFile = false;
  window.isManualPlay = false;
    }
  </script>

<div class="footer-fixed">  
<span style="font-size: 16px; color: white;">
<em><strong>ğŸ‘¨â€ğŸ’» TÃ¡c giáº£:</strong></em> Mai Thiá»‡n ChÃ¡nh â€“
    <em>ğŸ« ÄÆ¡n vá»‹ cÃ´ng tÃ¡c:</em> TrÆ°á»ng THCS Äá»©c PhÃº, xÃ£ Nghá»‹ Äá»©c, tá»‰nh LÃ¢m Äá»“ng
  </span><center></center></div>

<!-- NÃºt cá»‘ Ä‘á»‹nh cÃ³ thá»ƒ kÃ©o -->
<button class="menu-toggle draggable"><img src="TC.png" alt="Menu" class="menu-icon"></button>
<!-- Overlay -->
<div id="overlay" class="overlay"></div>
<!-- Menu -->
<div id="sideMenu" class="side-menu">
<a href="index.html">ğŸ  Trang chá»§</a>
  <a href="vong_quay_so.html">ğŸ¯ VÃ²ng quay sá»‘</a>
  <a href="vong_quay_ten.html">ğŸ‘¥ VÃ²ng quay tÃªn</a>
  <a href="Ai_la_trieu_phu.html">ğŸ’° Ai lÃ  triá»‡u phÃº</a>
  <a href="O_Chu_bi_mat.html">ğŸ§© TÃ¬m Ã” chá»¯ bÃ­ máº­t</a>
  <a href="O_Chu_tron_tim.html">ğŸ” Tinh máº¯t tÃ¬m tá»«</a>
<a href="doan_tu.html">ğŸ”¤ Game suy Ä‘oÃ¡n tá»«</a>
  <a href="soan_cau_hoi.html">ğŸ“ Soáº¡n Ä‘á» TN Tick chá»n + cháº¥m Ä‘iá»ƒm</a>
<a href="sukienVN.html">ğŸ“– Theo dÃ²ng sá»± kiá»‡n - lá»‹ch sá»­ VN</a> 
  <a href="fx-570VN%20Plus.html">ğŸ“Ÿ Giáº£ láº­p Fx-570 + Báº£ng tuáº§n hoÃ n NTHH</a>
  <a href="Caro.html">ğŸ® Game Caro + Music</a>
  <a href="#" onclick="toggleMenu()">âŒ ÄÃ³ng Menu</a>

</div>


<!-- NÃºt toÃ n mÃ n hÃ¬nh cá»‘ Ä‘á»‹nh -->
<div style="
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 9999;
  display: flex;
  flex-direction: row;
  gap: 10px;
">
  <button onclick="openFullscreen()" style="
    padding: 10px 16px;
    font-size: 14px;
    background: #00BFFF;
    border: none;
    border-radius: 6px;
    color: white;
    cursor: pointer;
  ">ğŸ” Xem Full mÃ n hÃ¬nh</button>

  <button onclick="exitFullscreen()" style="
    padding: 10px 16px;
    font-size: 14px;
    background: #FF6347;
    border: none;
    border-radius: 6px;
    color: white;
    cursor: pointer;
  ">âŒ ThoÃ¡t Full mÃ n hÃ¬nh</button>
</div>


<script>
function openFullscreen() {
  const elem = document.documentElement;
  if (elem.requestFullscreen) {
    elem.requestFullscreen();
  } else if (elem.webkitRequestFullscreen) {
    elem.webkitRequestFullscreen();
  } else if (elem.msRequestFullscreen) {
    elem.msRequestFullscreen();
  }
}

function exitFullscreen() {
  if (document.exitFullscreen) {
    document.exitFullscreen();
  } else if (document.webkitExitFullscreen) {
    document.webkitExitFullscreen();
  } else if (document.msExitFullscreen) {
    document.msExitFullscreen();
  }
}

document.getElementById('createFileBtn').addEventListener('click', function() {
  const defaultContent = "[Ná»™i dung pháº£i theo Ä‘á»‹nh dáº¡ng ÄÃP ÃN|Gá»¢I Ã (vÃ­ dá»¥: VIETNAM|Äáº¥t nÆ°á»›c hÃ¬nh chá»¯ S)]\n";
  const blob = new Blob([defaultContent], { type: 'text/plain;charset=utf-8' });
  const url = URL.createObjectURL(blob);

  const a = document.createElement('a');
  a.href = url;
  a.download = 'de_moi.txt';
  document.body.appendChild(a);
  a.click();

  document.body.removeChild(a);
  URL.revokeObjectURL(url);
});


</script>
<!-- Cá»‘ Ä‘á»‹nh 2 nÃºt á»Ÿ gÃ³c trÃªn bÃªn pháº£i -->
<div style="position: fixed; top: 40px; right: 20px; z-index: 1001; display: flex; flex-direction: column; align-items: flex-end; gap: 10px;">
  <button id="createFileBtn"
    onclick="downloadSample()"
    style="background-color: #32CD32; color: white; font-weight: bold; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer;">
    ğŸ“ SOáº N 01 Äá»€ .txt
  </button>

  <input type="file" id="fileInput" accept=".txt" style="display: none;" />
  <button onclick="document.getElementById('fileInput').click()" 
    style="background-color: #1E90FF; color: white; font-weight: bold; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer;">
    ğŸ“‚ Má» Äá»€ Tá»ª FILE
  </button>

<div style="height: 10px;"></div>
<div style="text-align: center;">
  <img id="resultImage" src="" alt="" style="
    margin-top: 8px;
    max-width: 200px;
    border-radius: 10px;
    display: none;
  " />
</div>

<div id="scoreDisplay" style="
  margin-top: 8px;
  width: 100%;
  max-width: 230px;
  height: 50px;
  border-radius: 10px;
  background-color: #fffbe6;
  border: 2px solid #f0c040;
  color: #333;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 16px;
  font-family: 'Times New Roman', serif;
  box-shadow: 0 0 6px rgba(0,0,0,0.1);
">
  Äiá»ƒm: chÆ°a chá»n
</div>

</div>

<div style="position: fixed; bottom: 20px; right: 20px; z-index: 1001; display: flex; flex-direction: column; align-items: flex-end; gap: 10px;">
 
<!-- NÃºt RESET -->
<button onclick="resetGame()" style="background-color: orange; color: white; font-weight: bold; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer;">
  ğŸ”„ RESET LÃ€M Má»šI
</button>
  
  <!-- NÃºt Vá»€ TRANG CHá»¦ -->
  <button onclick="window.location.href='index.html'" style="background-color: red; color: white; font-weight: bold; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer;">
    ğŸ  Vá»€ TRANG CHá»¦
  </button>
</div>


<!-- Khu vá»±c táº¡o cÃ¡c nÃºt tá»« sá»‘ â€“ náº±m ngang, cÄƒn giá»¯a dÆ°á»›i -->
<div id="wordButtons" style="
  position: fixed;
  bottom: 80px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1001;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
  padding: 10px;
  background-color: rgba(255, 255, 255, 0.8);
  border-radius: 12px;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
"></div>

<script>
function downloadSample() {
  const content = `VIETNAM|Äáº¥t nÆ°á»›c hÃ¬nh chá»¯ S
HANOI|Thá»§ Ä‘Ã´ cá»§a Viá»‡t Nam
SAIGON|TÃªn cÅ© cá»§a TP HCM`;
  const blob = new Blob([content], { type: "text/plain" });
  const link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = "mau_de_nhieu_cau.txt";
  link.click();
}
</script>
<script>
document.getElementById('fileInput').addEventListener('change', function(event) {
  const file = event.target.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = function(e) {
isFromFile = true;
    let lines = e.target.result.trim().split('\n').filter(l => l.includes('|'));
    if (lines.length === 0) return alert("File khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng.");

    // Trá»™n ngáº«u nhiÃªn
    for (let i = lines.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [lines[i], lines[j]] = [lines[j], lines[i]];
correctWordCount = 0;
    }

    const wordButtons = document.getElementById('wordButtons');
    wordButtons.innerHTML = "";

// áº¨n khung nháº­p vÃ  vÃ´ hiá»‡u hÃ³a nÃºt hiá»‡n láº¡i
document.getElementById('inputArea').style.display = 'none';
document.getElementById('showInputArea').style.display = 'block';
document.querySelector('#showInputArea button').disabled = true;
document.querySelector('#showInputArea button').style.opacity = 0.5;
document.querySelector('#showInputArea button').style.cursor = 'not-allowed';

   lines.forEach((line, index) => {
  const [ans, hint] = line.split('|');
  const btn = document.createElement('button');
  btn.textContent = "Tá»« sá»‘ " + (index + 1);
  btn.style.backgroundColor = "blue";
  btn.style.color = "white";
  btn.style.border = "none";
  btn.style.borderRadius = "5px";
  btn.style.padding = "5px 10px";
  btn.style.cursor = "pointer";
  btn.dataset.clicked = "false"; // <-- tráº¡ng thÃ¡i ban Ä‘áº§u
btn.classList.add("word-button-blink"); // <-- hiá»‡u á»©ng nÃºt â€œchÆ°a clickâ€

  btn.onclick = () => {
    if (btn.dataset.clicked === "true") return;
btn.classList.remove("word-button-blink");

      window.currentWordButton = btn;

    document.getElementById('answerInput').value = ans.trim();
    document.getElementById('hintInput').value = hint.trim();
    setupGame();

    // VÃ´ hiá»‡u hÃ³a táº¥t cáº£ cÃ¡c nÃºt khi Ä‘ang chÆ¡i 1 tá»«
    const allButtons = document.querySelectorAll('#wordButtons button');
    allButtons.forEach(b => {
      b.disabled = true;
      b.style.opacity = 0.5;
    });
  };

  wordButtons.appendChild(btn);
});

  };

  reader.readAsText(file, 'UTF-8');
});

function resetGame() {
  correctWordCount = 0;
  document.getElementById('scoreDisplay').textContent = "Äiá»ƒm: chÆ°a chá»n";
  location.reload(); // hoáº·c báº¡n cÃ³ thá»ƒ chá»‰ lÃ m sáº¡ch UI náº¿u khÃ´ng muá»‘n táº£i láº¡i toÃ n trang
}

</script>

<script src="menu.js"></script>
<script src="chao_name.js"></script>

</body>
</html>
<!-- Káº¾T THÃšC -->
